<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta name="keywords" content="数据结构与算法, 方寸田园">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>数据结构与算法 | 方寸田园</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="方寸田园" type="application/atom+xml"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>




<body>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">方寸田园</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">方寸田园</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/wanc97" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/wanc97" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/image/as3.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">数据结构与算法</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
                                <span class="chip bg-color">数据结构</span>
                            </a>
                        
                            <a href="/tags/%E7%AE%97%E6%B3%95/">
                                <span class="chip bg-color">算法</span>
                            </a>
                        
                            <a href="/tags/%E4%BA%8C%E5%88%86/">
                                <span class="chip bg-color">二分</span>
                            </a>
                        
                            <a href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/">
                                <span class="chip bg-color">动态规划</span>
                            </a>
                        
                            <a href="/tags/%E5%9B%9E%E6%BA%AF/">
                                <span class="chip bg-color">回溯</span>
                            </a>
                        
                            <a href="/tags/%E9%81%8D%E5%8E%86/">
                                <span class="chip bg-color">遍历</span>
                            </a>
                        
                            <a href="/tags/%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/">
                                <span class="chip bg-color">时间复杂度</span>
                            </a>
                        
                            <a href="/tags/%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/">
                                <span class="chip bg-color">空间复杂度</span>
                            </a>
                        
                            <a href="/tags/%E6%A0%91/">
                                <span class="chip bg-color">树</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E7%AE%97%E6%B3%95/" class="post-category">
                                算法
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2021-03-31
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2022-08-16
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    12.1k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    42 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><ul>
<li>广义上的算法就是解决问题的方法，这是任何领域都需要考虑的问题，但是为什么只有信息领域如此强调呢？主要因为信息领域存在大量类似的问题，一个合适的算法优化可以带来极大的效用提高，相比之下，其它领域的问题缺少同质性。</li>
<li>程序设计=数据结构+算法。</li>
<li>算法的精髓：所有可以降低问题复杂度的算法都是在寻找一种划分，使得问题熵减。<ul>
<li>程序设计的三种基本结构：顺序结构、分支结构、循环结构。其中循环结构不会降低复杂度，因为它是用相同的策略来应对不同问题，而分支结构通过一定的划分，可以将问题（情况）分为不同的类，而不同的类有着更加明显的规律，可以用更加针对性的策略达到效果。<ul>
<li>二分：将情况分为两类，一类直接解决</li>
<li>动态规划：通过一种解决顺序，可以将许多问题分到已经解决过的问题中</li>
<li>回溯剪枝：通过判断，一类直接解决</li>
</ul>
</li>
</ul>
</li>
<li><strong>计算机解决问题唯一的解决办法就是穷举</strong>，穷举所有可能性。算法设计就是先思考“如何穷举”，然后再追求“如何聪明地穷举”。或者说人也是如此。<ul>
<li>思考如何穷举就是证明问题是可以解决的，得到baseline方法；</li>
<li>追求聪明的穷举就是通过加入先验知识，对各种情况特殊处理，降低计算成本。</li>
</ul>
</li>
<li>实际的问题千千万万，我们不能记住所有具体的解决方案；但每个问题都可以抽象、分解为一些基本典型问题，只需要掌握这些基本问题的应对策略，就可以应对无穷的由基本问题组合而成的问题；这些基本问题也就是机器学习中的泛化特征。</li>
</ul>
<h3 id="问题思路"><a href="#问题思路" class="headerlink" title="问题思路"></a>问题思路</h3><ul>
<li>问题建模；</li>
<li>选择并描述算法；</li>
<li>证明算法是否能在所有实例上取得最优解；</li>
<li>分析算法效率。</li>
</ul>
<h3 id="算法要求"><a href="#算法要求" class="headerlink" title="算法要求"></a>算法要求</h3><p><strong>基础要求</strong></p>
<ul>
<li>正确性：零到多个输入，至少一个输出（广义上的输出）；</li>
<li>有穷性；</li>
<li>确定值；</li>
<li>可行性。</li>
</ul>
<p><strong>重要要求</strong></p>
<ul>
<li>可读性；</li>
<li>鲁棒性（能适应更加严苛、复杂的情况）；</li>
<li>时间空间复杂度低。</li>
</ul>
<p><strong>算法层次</strong></p>
<ul>
<li>没有语法错误；</li>
<li>对于合法输入能得到满足要求输出；</li>
<li>对于非法输入能够有合理应对；</li>
<li>对于故意刁难的输入可以得到满足要求的输出。</li>
</ul>
<h3 id="复杂度"><a href="#复杂度" class="headerlink" title="复杂度"></a>复杂度</h3><p><strong>时间复杂度</strong><br>针对指定的基本运算和输入规模，算法所做运算的次数相对于输入规模的表达式。</p>
<ul>
<li><p>基本运算应该满足：</p>
<ul>
<li>计算时间基本不变；</li>
<li>在对应问题中其运算数量变化是影响运算时间的最主要因素。</li>
<li>常见如：比较、加法、乘法、置指针、交换……</li>
<li>常见的输入规模：数组元素多少、调度问题的任务个数、图的顶点数与边数……</li>
</ul>
</li>
<li><p>复杂度中带$O(log(n))$的往往会用到二分或者类似二分的操作（树、堆）</p>
</li>
<li><p>复杂度中带$O(mn)$的往往需要for循环或动态规划计算</p>
</li>
<li><p>指数复杂度的场景往往输入规模极小，个位数量级</p>
</li>
</ul>
<p><strong>空间复杂度</strong><br>针对指定的空间单位和输入规模，算法所需的空间量相对于输入规模的表达式。</p>
<blockquote>
<p>时间复杂度和空间复杂度都是十分重要的，但是一般算法之间的空间复杂度差别远不及时间复杂度上的差别，因此更多比较的也是时间复杂度。</p>
</blockquote>
<h3 id="主定理"><a href="#主定理" class="headerlink" title="主定理"></a>主定理</h3><p>对于递推关系： $T(n)=aT(\frac{n}{b})+f(n),a&gt;=1,b&gt;1$<br>$n$为问题规模，$a$为子问题个数，$\frac{n}{b}$为子问题规模，$f(n)$为递归以外的计算工作。</p>
<p>$log_ba$与$f(n)$直接影响复杂度</p>
<p><strong>情况一</strong><br>当$O(f(n)) &lt; O(n^{log_ba})$ 多项式地小于时：$O(n^{log_ba})$主导复杂度，$T(n)=O(n^{logb(a)})$</p>
<p><strong>情况二</strong><br>当$O(f(n)) &gt; O(n^{log_ba})$ 多项式地大于时：$f(n)$主导复杂度，$T(n)=O(f(n))$</p>
<p><strong>情况三</strong><br>当$O(f(n)) = O(n^{log_ba}log^{k}n)$差距不足多项式时，共同影响复杂度，$T(n)=O(n^{log_ba}log^{k+1}n)$</p>
<p>注：部分复杂度符号使用粗略</p>
<h3 id="遍历"><a href="#遍历" class="headerlink" title="遍历"></a>遍历</h3><ul>
<li>广度优先：从一个节点开始，往外一层一层地拓展，第零层为起始节点，第一层为直接与起始节点相连的结点，第n层为直接与第n-1层相连但不属于前面任意一层地结点，直到遍历完所有节点。</li>
<li>深度优先：从第一个节点开始，随机查找下一个未被访问的节点，直到无法前进（走进死胡同），然后开始回退，一旦发现有未被访问的节点就继续前进，直到遍历所有节点。</li>
</ul>
<h3 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h3><ul>
<li>直接或间接调用自身的算法称为递归算法，必须有停止条件。</li>
<li>递归可以使得解决思路简洁、清晰；</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>有时候比较低效，经历大量的重算，可以用动态规划优化。</li>
<li>压入堆栈消耗更多空间</li>
</ul>
<h2 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h2><p><strong>逻辑结构和物理结构</strong></p>
<ul>
<li>数据结构分为逻辑结构和物理结构，逻辑结构是元素间的抽象关系，物理结构是元素在计算机上的存储方式。</li>
<li>数据物理结构：<ul>
<li>连续存储结构：在存储介质上连续存放，与逻辑结构的数组对应；</li>
<li>非连续存储结构：数据元素存放在任意位置，通过指针（地址）联系；</li>
</ul>
</li>
<li>数据逻辑结构分为：<ul>
<li>集合结构：元素间没有关系；</li>
<li>线性结构：一个接一个的关系，更准确的说是按一定顺序先后排列的关系；</li>
<li>树形结构：一对多关系；</li>
<li>图形结构：多对多关系；</li>
</ul>
</li>
</ul>
<p>常用数据结构：数组、字符串、链表、栈、队列、双端队列、树、图……</p>
<p><strong>基本数据结构：数组&amp;链表</strong></p>
<ul>
<li>数组的优势在于查改，$O(1)$的时间实现访问、读写；缺点是增删时复杂度高；</li>
<li>链表的优势在于增删改，$O(1)$的时间实现插入和删除节点；缺点是查询时复杂度高，且随机访问对cache不友好；</li>
<li>数据长度确定，需要频繁读写时数组更合适，而数据长度不定，需要频繁改变时链表更有优势。</li>
<li>数组和链表的优缺点比较互补，所以很适合组合在一起，优势互补，得到各方面时间复杂度都低的数据结构，例如：哈希表、哈希表+链表等，想要实现更好的数据结构，一个思路就是组合不同数据结构的优势。</li>
</ul>
<p><strong>数据结构操作：增删改查=遍历+操作</strong></p>
<ul>
<li>数据结构分为（广义）<strong>线性</strong>和<strong>非线性</strong>；</li>
<li>操作的核心在遍历，遍历分为<strong>迭代</strong>和<strong>递归</strong>；</li>
<li>一般线性结构用迭代，非线性结构用递归；</li>
<li>递归本质上是通过堆栈实现，所以递归可以通过堆栈+迭代实现，这样可读性和实现难度往往不如迭代，但有时候问题较为清晰时可以改成迭代以降低空间消耗。</li>
</ul>
<h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><p><strong>特殊数组</strong></p>
<ul>
<li>前缀和数组：等于原数组的积分，适用于频繁使用数组一段区间大小的情况；</li>
<li>差分数组：等于数组的差分，适用于数组频繁对一段区间的值进行共同加减操作的情况；</li>
</ul>
<p><strong>常见题目</strong></p>
<ul>
<li>删除数组重复元素、删除数组指定元素、移动指定元素：双指针，快指针寻找元素，慢指针指示位置；</li>
<li>数组和为 k 的子数组：<ul>
<li>元素为正：<ul>
<li>左右指针滑窗：$O(n)$时间复杂度，遍历一次即可；</li>
</ul>
</li>
<li>任意元素：<ul>
<li>前缀和数组：空间$O(n^2)$，时间$O(n)$；</li>
<li>哈希表代替前缀和数组，空间时间都是$O(n)$</li>
</ul>
</li>
</ul>
</li>
<li>$O(1)$时间随机获得元素，要将元素紧凑的存在数组中；</li>
<li>查找缺失元素：长度为n的序列，包含0~n之间的数，每个数字出现一次，找到没有出现过的数；<ul>
<li>排序：时间$O(n*log(n))$，空间$O(1)$</li>
<li>哈希表记录：时间$O(n)$，空间$O(n)$</li>
<li>异或：时间$O(n)$，空间$O(1)$</li>
<li>求和：时间$O(n)$，空间$O(1)$</li>
</ul>
</li>
</ul>
<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><p>字符串可以看成数组，区别在于当它以字符串形式出现时，不适合直接操作单个字符；但当以字符数组出现时可以，与数组几乎完全一致。<br><strong>常见题型</strong></p>
<ul>
<li>规则判断：是否是回文、是否符合整数、能否转化为数值、能否转化为算式；</li>
<li>字符计数：哈希表、固定长度数组（字符数量有限）、滑动窗、无重复最长子串；</li>
<li>动态规划：最长公共（回文）子串（子序列）；</li>
</ul>
<p><strong>常见题目</strong></p>
<ul>
<li>二叉树匹配：判断一棵树是否是另一棵树的子结构<ul>
<li>暴力解法：递归地对匹配树的每一个结点，与模式树进行比较，复杂度$O(n*m)$。</li>
<li>最佳解法：树的序列化+KMP算法，复杂度$O(n+m)$，将树变为字符串，然后进行字符串匹配，树的序列化要正确，具有唯一性，一对一映射。</li>
</ul>
</li>
<li> 两个字符串是否为变形词：使用哈希表或数组记录每个字符出现的次数进行比较，可以只用一个哈希表或数组记录其中一个的字符串的字符次数，然后遍历另一个字符串，做减法，遇到负数还可以提前结束。</li>
<li>两个字符串是否为旋转词：在长度相等的情况下，将一个字符串重复两次（这样包含了所有旋转词的情况），然后用KMP判断是否包含另外一个词，复杂度$O(n)$。</li>
<li>字符串单词逆序：<ul>
<li>Python一行：split，翻转，拼接；额外空间</li>
<li>两次翻转：遍历，对每个单词翻转；然后对整个字符串翻转，如果是字符数组时，不用额外空间。</li>
</ul>
</li>
<li>字符串前后调换：<ul>
<li>Python一行：额外空间</li>
<li>两次翻转：同上</li>
</ul>
</li>
<li>字符串数组字典排序：不能直接比较字符串的字典序，而要将两个字符串拼接比较，看哪个应该在前面。</li>
<li>字符串替换：将字符串中的字符替换成字符串，字符串会变长，可以先遍历一遍，看看有多少符合的字符，然后从后往前填充。</li>
<li>括号字符串是否有效：<ul>
<li>如果只有一种括号，可以遍历并记录左右括号的数量，空间复杂度$O(1)$；</li>
<li>如果有多种括号，用栈，空间复杂度$O(n)$。</li>
</ul>
</li>
<li>最长无重复子串：双指针遍历记录目前最长无重复子串，哈希表记录遍历元素最大位置，根据遍历元素位置调整指针。</li>
<li>字符串解析：可以用栈或更加方便地用递归；字符串括号等里面是独立的单元，可以调用递归；</li>
<li>保证相对顺序和字典序最小的字符串去重：贪心+单调栈；记录每个字符的出现次数，依次入栈，尽可能删除小字符前的字符，如果一个字符已经加进去了就不加；</li>
</ul>
<h3 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h3><ul>
<li>反转链表：<ul>
<li>迭代和递归都可以，迭代不需要额外空间，递归写起来简洁；</li>
<li>迭代：从前往后遍历，存储几个必要节点，交换指向；</li>
<li>递归：子函数实现递归，返回下一个节点反转后的头节点和尾节点；</li>
</ul>
</li>
<li>k个一组反转链表：边界判断 + 反转k个节点链表；<ul>
<li>迭代：从前往后遍历，有k个节点则调用子函数部分反转；</li>
<li>递归：有k个子节点则调用子函数反转前面，调用自身处理后面，再整合；</li>
</ul>
</li>
<li>反转部分链表：<ul>
<li>迭代：遍历至指定位置，执行指定数量反转；</li>
<li>递归：传参数加入带反转的位置信息，以判断操作；</li>
</ul>
</li>
<li>删除链表重复元素：有序链表直接遍历，无序用哈希表；</li>
</ul>
<h3 id="栈-amp-队列"><a href="#栈-amp-队列" class="headerlink" title="栈&amp;队列"></a>栈&amp;队列</h3><table>
<thead>
<tr>
<th align="center"></th>
<th align="center">栈</th>
<th align="center">队列</th>
</tr>
</thead>
<tbody><tr>
<td align="center">进出</td>
<td align="center">先进后出</td>
<td align="center">先进先出</td>
</tr>
<tr>
<td align="center">常用操作</td>
<td align="center"><code>pop、push、top/peak、size</code></td>
<td align="center"><code>pop、push、size</code></td>
</tr>
<tr>
<td align="center">图搜索</td>
<td align="center">深度优先</td>
<td align="center">广度优先</td>
</tr>
<tr>
<td align="center">编程结构</td>
<td align="center">递归</td>
<td align="center">迭代</td>
</tr>
</tbody></table>
<p><strong>栈</strong></p>
<ul>
<li>后进先出，因为操作都是在栈的顶部完成，且需要频繁改动，所以可以用单链表实现，各种操作都是$O(1)$时间。</li>
<li>如果用单链表实现栈，则入栈时单链表往头部方向扩展。</li>
<li>如果用数组来实现栈，当栈的长度超过数组长度时，运算复杂度不再是$O(1)$。</li>
<li>使用栈的场合往往是主要关注上一个操作的。</li>
</ul>
<p><strong>队列</strong></p>
<ul>
<li>先进先出，常用于顺序处理问题的场合，如：广度优先搜索。</li>
<li>双端队列可以利用双链表来实现，在队列的两端都用$O(1)$的时间进行查询、增加、删除。常用于长度动态变化的窗口或区间。</li>
<li>循环队列的一个好处是可以固定长度的数组实现。</li>
</ul>
<p><strong>单调栈</strong></p>
<ul>
<li>递减子数组数目；</li>
<li>滑窗最大值；</li>
<li>下一个更大元素；</li>
<li>下一个更大元素的距离（存储下标）</li>
<li>循环数组的下一个更大元素：让原数组重复一次；</li>
</ul>
<p><strong>常见题目</strong></p>
<ul>
<li>设计一个能够在$O(1)$时间复杂度返回最小元素的栈：可以设计一个额外记录最小值的栈，记录当前位置的最小值，额外空间复杂度$O(n)$；只在弹入值小于等于当前最小值时压入记录最小值的栈；</li>
<li>用两个栈实现队列：两个先进后出就可以得到先进先出，一个栈接收数据，一个栈倒出数据，但是从第一个往第二个倒的时候第二个栈必须是空的，且一次倒完。</li>
<li>栈的逆序：<ul>
<li>用递归函数实现：一个递归函数实现删除/弹出栈底元素，第二个递归函数调用第一个递归函数递归删除到最后后逆序压入，时间复杂度高；</li>
<li>用队列实现：依次弹出栈元素，放入队列，从队列中取出压入栈；队列先进先出，而栈后进先出的特性带来了逆序。</li>
</ul>
</li>
<li>用一个额外的栈实现栈中元素排序：原理就是让元素倒来倒去，让元素有序；原理类似于插入排序。</li>
<li>数组取划窗最大值：双端队列，存放元素下标，压入的时候比较，去掉不符合的，同时从一端获得最大元素的下标。</li>
</ul>
<h3 id="树"><a href="#树" class="headerlink" title="树"></a>树</h3><ul>
<li>完全二叉树适合数组存储</li>
<li>可视为一个拥有N 个节点和N-1 条边的一个有向无环图。</li>
</ul>
<p><strong>遍历</strong></p>
<ul>
<li>一般采用递归的方法遍历比较清晰，二叉树遍历分为：前序遍历、中序遍历、后序遍历</li>
<li>树的遍历得到的结果并非一一对应，不同的树可以得到相同的遍历结果。</li>
<li>很多问题一旦写成递归形式都可以看成树的遍历，快排-前序遍历、归并排序-后序遍历、回溯-决策树DFS遍历</li>
<li>二叉树相关的题大多可以通过写成递归遍历的形式快速解决；<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">/</span><span class="token operator">*</span> 二叉树遍历框架 <span class="token operator">*</span><span class="token operator">/</span>
<span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token operator">//</span> 前序遍历
    traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
    <span class="token operator">//</span> 中序遍历
    traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
    <span class="token operator">//</span> 后序遍历<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<p><strong>常见题目</strong></p>
<ul>
<li>反转二叉树、二叉树展开为链表、求二叉树高度</li>
<li>通过列表、前中后序遍历重构二叉树</li>
<li>寻找重复子树：后序遍历+序列化+哈希</li>
<li>二叉树的节点数：<ul>
<li>任意二叉树：遍历+计数，$O(n)$；</li>
<li>满二叉树：找深度，$O(log(n))$：</li>
<li>完全二叉树：判断+用任意二叉树和满二叉树的方式，$O(log(n)*log(n))$；</li>
</ul>
</li>
<li>二叉树最长路径：状态是每一个节点的优化值，子问题是子节点的优化值。</li>
</ul>
<h3 id="哈希表"><a href="#哈希表" class="headerlink" title="哈希表"></a>哈希表</h3><ul>
<li>一种使用哈希函数组织数据，以支持快速插入和搜索的数据结构。</li>
<li>哈希+大数组[+链表]</li>
</ul>
<h3 id="堆"><a href="#堆" class="headerlink" title="堆"></a>堆</h3><ul>
<li>完全二叉树（适合数组存储）；</li>
<li>每个节点的值大于等于（小于等于）子树的值。</li>
</ul>
<p>堆删除元素是弹出堆顶元素，将末尾元素放到堆顶，然后从上往下堆化；堆插入元素是将待插入元素放置在堆末尾，然后从下往上堆化。</p>
<p><strong>堆排序VS快速排序</strong></p>
<ul>
<li>快排顺序遍历，对cache更加友好，堆排序随机访问，对cache不友好；</li>
<li>堆排序会打乱原有顺序，增加逆序度，因此实际中的交换次数可能更多。</li>
</ul>
<p><strong>堆的应用</strong></p>
<ul>
<li>求最值，排序；</li>
<li>合并多个有序序列；</li>
<li>高性能定时器，获取需要执行的任务，不需要反复轮询；</li>
<li>求topk大元素，只需要建一个大小为k的小根堆，每次新来元素同堆顶元素比较，如果大于堆顶元素就替换，否则不操作；</li>
<li>动态求中位数，一个大顶堆存小元素和一个小顶堆存大元素，保持两个堆元素数量平衡，即可快速，动态得到中位数。</li>
</ul>
<h3 id="图"><a href="#图" class="headerlink" title="图"></a>图</h3><h4 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h4><ul>
<li>图可以用邻接矩阵、邻接表来表示。</li>
<li>无向图：$G=(V,E)$,V表示结点，数量为n，E表示边，数量为m。</li>
<li>有向图：图$G=(V,E)$的边是带有方向的，如网页超链接。</li>
<li>路径（path）：无向图$G=(V,E)$中的路径定义为由一系列结点构成的序列，其中两个连续结点之间有一条边。</li>
<li>简单路径：所有节点都是不相同的。</li>
<li>连通无向图：任意两个结点之间存在一条路径。</li>
<li>圈/环：有且只有首尾为相同结点的路径。</li>
<li>有向无环图：不包含有向环的有向图。</li>
<li>树是连通且不包含圈/环的无向图。</li>
<li>对于有n个结点的无向图，这三条中任意两条可以作为树的定义并推导出第三条：连通，边数为$n-1$，没有圈。</li>
<li>二部图/二分图：如果一个无向图的结点用红蓝两种颜色区分，可以使得每条边的两个结点一个是红色一个是蓝色。<ul>
<li>如果一个无向图不包含奇圈，那就是二部图。</li>
<li>广度优先遍历的结果中不包含连接同一层结点的边的无向图是二部图。</li>
</ul>
</li>
<li>如果有向图两个结点之间相互可达，这两个结点是强连通的，如果有向图中所有结点是相互可达的，则此图是强连通的。<ul>
<li>任意一个结点与其它结点相互可达，这个图就是强联通的。</li>
<li>判断方式：取一个点作为根节点做广度优先，边的方向反向再做广度优先，如果两次都可以到达所有点，则此图是强联通的。</li>
</ul>
</li>
</ul>
<h4 id="遍历-1"><a href="#遍历-1" class="headerlink" title="遍历"></a>遍历</h4><ul>
<li>广度优先遍历中，通过一条边连接起来的两个结点的层数最多相差一层。</li>
</ul>
<h3 id="Trie"><a href="#Trie" class="headerlink" title="Trie"></a>Trie</h3><ul>
<li>前缀树就是将字符串按照前缀整合起来，形成一棵树，插入和遍历的过程都是从树的根节点向下遍历的过程；</li>
<li>前缀树每一个节点存储元素通过哈希方式记录；因为每个节点记录单个元素，所以可以通过比较容易的方式实现哈希，如果只有英文字符可以使用ASCII码关系进行对应；</li>
<li>优势：<ul>
<li>适合前缀匹配场景，如搜索匹配、自动补全等；</li>
<li>可以快速在大量字符串中插入、查询、匹配、计数等等</li>
</ul>
</li>
<li>缺点：<ul>
<li>如果查询的字符集过大，会使得存储空间浪费；</li>
<li>如果字符串前缀重合度小，也会造成空间浪费；</li>
<li>指针对缓存不友好</li>
</ul>
</li>
</ul>
<p><strong>AC自动机</strong></p>
<ul>
<li>快速在主串中查找字符串，适合敏感词过滤场景；</li>
<li>AC自动机-Trie树=KMP-BF</li>
<li>KMP通过next数组记录匹配失败时指针跳转的位置，AC自动机通过失败指针记录匹配失败时跳转的位置，一般效率极高； </li>
</ul>
<h3 id="组合结构"><a href="#组合结构" class="headerlink" title="组合结构"></a>组合结构</h3><p><strong>经典题目</strong></p>
<ul>
<li>LRU：缓存满时删除最旧的，快速查找需要用到哈希，时间排序用到（双向）链表；</li>
<li>LFU：缓存满时删除访问频率最低的中最旧的，快速查找、记录每个缓存的访问次数、每个访问次数对应的缓存以及对应顺序的LRU需要用到3/4个哈希，每一个访问次数内用双向链表记录顺序；</li>
<li>平均$O(1)$时间插入，删除，随机返回一个元素：随机返回可以用数组+随机数实现，插入删除可以将被删元素移到数组结尾，用哈希表记录元素索引；</li>
</ul>
<h2 id="算法思想"><a href="#算法思想" class="headerlink" title="算法思想"></a>算法思想</h2><table>
<thead>
<tr>
<th>算法</th>
<th>最优子结构</th>
<th>无后效性</th>
<th>重复子问题</th>
<th>最优化</th>
</tr>
</thead>
<tbody><tr>
<td>回溯</td>
<td>Y</td>
<td>Y</td>
<td>N</td>
<td></td>
</tr>
<tr>
<td>动态规划</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>贪心</td>
<td>Y</td>
<td>Y</td>
<td></td>
<td>Y</td>
</tr>
<tr>
<td>分治</td>
<td>Y</td>
<td></td>
<td>N</td>
<td></td>
</tr>
<tr>
<td></td>
<td>通过子问题的最优解，推导出问题的最优解，分治思想</td>
<td>某阶段状态只取决于前面的的状态</td>
<td>不同决策序列有重复问题</td>
<td>从多个解中寻找最优解</td>
</tr>
</tbody></table>
<h3 id="贪心"><a href="#贪心" class="headerlink" title="贪心"></a>贪心</h3><ul>
<li>贪心就是每次用局部最优的选择；</li>
<li>许多问题可以设计策略，使得通过连续的局部最优解最终得到全局最优解；可以通过贪心得到全局最优解的问题往往可以在一定程度上对前后问题解耦；</li>
</ul>
<p><strong>霍夫曼编码</strong></p>
<ul>
<li>问题：如何用尽量少的空间编码字符；</li>
<li>思路：不同字符出现的频率不同，可以用尽量短的编码来编码高频字符，以及用到的编码不作为其他字符编码的前缀，如此总的编码数量在加权平均后会减少；</li>
</ul>
<p><strong>计算机的cache-内存-外存设计</strong></p>
<ul>
<li>问题：如何用尽量少的成本获得尽量高的性能；</li>
<li>思路：将最高频的计算放在少量的cache中，经常的计算放在内存中，不经常的大量计算放在外存中，使得计算效率接近cache，成本接近外存；</li>
</ul>
<p><strong>常见问题</strong></p>
<ul>
<li>分糖果：m个糖果和n个孩子,m &lt; n，糖果的大小分别是s1，s2，s3，……，sm。孩子对糖果大小的需求分别是g1，g2，g3，……，gn。如何分配能尽可能满足最多数量的孩子：<ul>
<li>优先分配需求小的孩子，优先用小糖果</li>
</ul>
</li>
<li>钱币找零：有不同面额的货币，如何用尽量少的数量找钱：<ul>
<li>先用面额大的货币，当每一个大额货币是任意小额货币的整数倍时，为全局最优，否则不一定；</li>
</ul>
</li>
<li>区间覆盖：n个区间，选出一部分区间，满足两两不相交，最多能选出多少个区间呢：<ul>
<li>优化的是最大化区间数量，按照区间右边界排序，先选择结束早的区间；</li>
<li>任务调度、排课问题等；</li>
</ul>
</li>
<li>区间覆盖：n个区间，组成新的序列，满足两两不相交，最少需要多少个序列才能满足呢：<ul>
<li>优化的是最小序列数量，每一个区间最终都要被选择，则选择的过程就是要让区间尽量紧凑；</li>
<li>按照左边界排序，依次安排各个会议的会议室；先从现有的会议室中找最早结束的，如果不满足则开辟新的会议室；会议室放在堆中，堆顶是最早结束的会议室；</li>
</ul>
</li>
</ul>
<h3 id="分治"><a href="#分治" class="headerlink" title="分治"></a>分治</h3><ul>
<li>分治是将问题划分为规模更小地子问题，递归或迭代地求解子问题，再将子问题的解合并得到原问题的解。<ul>
<li>要求：子问题与原问题的性质完全一样、最小的子问题可以直接求解、子问题之间可以独立求解，独立是分治与动态规划的一个明显区别。</li>
</ul>
</li>
<li>分治的常见场景：二分法（每次问题规模减半）、二分归并排序；<ul>
<li>似乎分治的效果都是将一个n的复杂度变成了$log(n)$</li>
</ul>
</li>
</ul>
<p><strong>MapReduce</strong></p>
<ul>
<li>每一个Maper完成部分数据的处理，Reducer则完成数据的聚合，大部分时候并不需要聚合成一个文件，因此也可以用多个Reducer。</li>
</ul>
<p><strong>常见应用</strong></p>
<ul>
<li>幂乘可以二分进行，从线性复杂度转化为对数复杂度；</li>
<li>斐波拉切数列求解可以转化成幂乘问题，然后用分治化简。</li>
<li>归并排序、快速排序</li>
<li>快排思想选k大/小</li>
<li>几乎各种存在有序线性搜索的地方都可以改为二分；</li>
</ul>
<h3 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h3><p><strong>基本思想</strong></p>
<ul>
<li>基本思路：<strong>穷举</strong>+<strong>备忘录</strong><ul>
<li>穷举是为了比较所有可能的情况，每一个问题可以由一系列小问题的答案组合而成，一般是$max(dp[小1],dp[小2],…)$。</li>
<li>备忘录是通过记录子问题的结果，避免重复计算，用空间换时间，降低时间复杂度</li>
</ul>
</li>
<li>重点是穷举过程的<strong>转移方程</strong>，也就是将原问题转化为更简单的子问题的转移关系，一定要正确<ul>
<li>正确得到穷举的转移方程需要明确问题的变量（自由度），最后的问题就变成了多维（自由度）数组的元素填充问题。</li>
</ul>
</li>
<li>穷举方向可以是<strong>自顶向下</strong>的<strong>递归</strong>，也可以是<strong>自底向上</strong>的<strong>迭代</strong></li>
<li>一个优化角度是<strong>穷举顺序</strong>，合适的穷举顺序可以少使用备忘录，降低空间复杂度</li>
<li>对于有指数种情况的问题:要么是可以用动态规划来求解;要么就只能应用在输入规模极小的场景；或者可以在回溯中大量剪枝。</li>
</ul>
<p><strong>通用框架</strong></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 自底向上</span>
dp <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">for</span> 状态<span class="token number">1</span> <span class="token keyword">in</span> 状态<span class="token number">1</span>取值<span class="token punctuation">:</span>
    <span class="token keyword">for</span> 状态<span class="token number">2</span> <span class="token keyword">in</span> 状态<span class="token number">2</span>取值<span class="token punctuation">:</span>
        <span class="token keyword">for</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span>
            dp<span class="token punctuation">[</span>状态<span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>状态<span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token operator">=</span> 择优<span class="token punctuation">(</span>选择<span class="token number">1</span><span class="token punctuation">,</span>选择<span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token comment"># 自顶向下</span>
memory <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">def</span> <span class="token function">dp</span><span class="token punctuation">(</span>状态<span class="token number">1</span><span class="token punctuation">,</span>状态<span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> 状态<span class="token number">1</span><span class="token punctuation">,</span>状态<span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">not</span> <span class="token keyword">in</span> memory<span class="token punctuation">:</span>
        memory<span class="token punctuation">[</span>状态<span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>状态<span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token operator">=</span> 择优<span class="token punctuation">(</span>dp<span class="token punctuation">(</span>选择<span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dp<span class="token punctuation">(</span>选择<span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dp<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> memory<span class="token punctuation">[</span>状态<span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>状态<span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>常见题目</strong></p>
<ul>
<li>凑零钱问题：状态是总的钱数，子问题是减去可能的零钱后的钱数，优化的是最少零钱数；</li>
<li>0-1背包问题：状态是背包容量与待装物品，子问题是某个物品装与不装后的背包容量和剩下的待装物品，优化的是总价值；</li>
<li>股票买卖：状态是每一天的买卖情况、第几次买卖等，子问题是前一天或前几天的状态，优化的是最终收益。</li>
<li>最小路径和：状态是二维平面上每一个点的最小路径，子问题是前面点的最小路径，优化的是目的地的最小路径。</li>
<li>编辑距离：状态是两个字符串的子串的编辑距离，子问题是通过几种可选择的操作可以得到的子问题，优化的是编辑距离。</li>
<li>最长公共子序列：状态是两个字符串的子串的最长公共子序列，子问题是减掉一两个字符串最后一个字符得到的。</li>
<li>最长回文子序列：状态是字符串的子串的最长回文子序列，子问题是从左右两端减掉一两个字符后的最长回文子序列。</li>
<li>最长上升子序列：状态是索引，子问题是每个位置前所有元素中，包括这个位置的最长上升子序列。</li>
<li>得分数组左右取分，预测赢家，状态是剩下数字的起始和结束位置； </li>
<li>为运算表达式设计优先级：子问题是一段表达式可能的优先级；</li>
</ul>
<h3 id="回溯"><a href="#回溯" class="headerlink" title="回溯"></a>回溯</h3><p><strong>基本思想</strong></p>
<ul>
<li>回溯就是一个<strong>决策树</strong>的<strong>DFS深度优先搜索</strong>过程；</li>
<li>基本思路：决策遍历+停止判断；</li>
<li>做决策的过程就是向子节点递归的过程，回退的时候需要撤销选择回到原来的状态，或者说回到对应节点的状态；</li>
<li>动态规划和回溯都有递归+DFS搜索：<ul>
<li>动态规划一定有重叠子问题，而回溯没有。某种程度上说，动态规划的暴力求解阶段就是回溯算法。只是有的问题具有重叠子问题性质，可以用备忘录优化，将递归树大幅剪枝，这就变成了动态规划。</li>
<li>动态规划有求最值的过程，将子问题的结果整合成一个，而回溯是记录所有满足的结果（也可能是找到一个满足的）</li>
<li>动态规划是返回到最顶层后得到结果，而回溯是递归到最底层得到结果。</li>
</ul>
</li>
<li>有时候适当调整选择顺序可以降低最坏复杂度。</li>
</ul>
<p><strong>通用框架</strong></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">def</span> <span class="token function">backtrack</span><span class="token punctuation">(</span>路径<span class="token punctuation">,</span> 选择列表<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> 满足结束条件<span class="token punctuation">:</span>
        result<span class="token punctuation">.</span>add<span class="token punctuation">(</span>路径<span class="token punctuation">)</span>
        <span class="token keyword">return</span>

    <span class="token keyword">for</span> 选择 <span class="token keyword">in</span> 选择列表<span class="token punctuation">:</span>
        做选择
        backtrack<span class="token punctuation">(</span>路径<span class="token punctuation">,</span> 选择列表<span class="token punctuation">)</span>
        撤销选择<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol>
<li>路径：也就是已经做出的选择。</li>
<li>选择列表：也就是当前可以做的选择。</li>
<li>结束条件：也就是到达决策树底层，无法再做选择的条件。</li>
</ol>
<p><strong>常见题目</strong></p>
<ul>
<li>n皇后：每行一个皇后，所以选择列表就是每一行的皇后的列数，选择的时候判断是否冲突；</li>
<li>全排列：每一步从剩下的选择中选择；</li>
<li>m个元素平分成k个元素和相同的子集：决策深度为元素数m，每个元素有k种选择，每个集合的最终总和是确定的，用于判断是否合适；<ul>
<li>可以先对元素进行排序，优先选择较大的元素，更容易触发停止条件，以减小计算量。</li>
<li>也可以从桶的角度，先选择桶，再选择元素放不放，各个桶之间的状态相对独立一些，可以把最坏复杂度从$O(k^m)$降到$O(k*2^m)$。</li>
</ul>
</li>
<li>求子集：每一个元素加或不加是选择，没有中间的剪枝，所以也可以不用模版直接迭代；</li>
<li>求组合：按顺序依次取，每一个元素加或不加是选择，当元素数量达到指定数量时停止；</li>
<li>求排列：不按顺序取，每一个元素加或不加是选择，当元素数量达到指定数量时停止；</li>
<li>括号组合：每次加一种（左右，大小）括号进去，判断是否不合法；<ul>
<li>如果是只有一种括号可以直接用数字记录括号数量是否合法，或者迭代生成；</li>
<li>如果有多种括号，需要用栈来判断是否合法；</li>
</ul>
</li>
<li>有向无环图求所有可能路径：<ul>
<li>DFS回溯：</li>
<li>BFS：</li>
</ul>
</li>
</ul>
<h3 id="双指针"><a href="#双指针" class="headerlink" title="双指针"></a>双指针</h3><p>双指针可分为快慢指针、左右指针、滑窗等。</p>
<p><strong>快慢指针</strong></p>
<ul>
<li>判断链表是否有环：慢指针一次走一步，快指针一次走两步，如果相交则有环，快指针走到头则无环；</li>
<li>找链表环的起始点：找到环后，一个指针从起点开始，一个从相遇点开始，各一次走一步，在环的起始点相遇；</li>
<li>两个链表是否相交：两个指针分别从两个链表开始走，到头则换到另一个链表开始，如果中间指向同一节点则相交；</li>
<li>找链表中点：慢指针一次走一步，快指针一次走两步，快指针到头时，慢指针为中点；</li>
<li>找倒数第k个节点：快指针先走k个节点，快指针到头时，去慢指针；</li>
<li>删除数组重复元素、删除数组指定元素、移动指定元素：快指针寻找元素，慢指针指示位置；</li>
</ul>
<p><strong>左右指针</strong></p>
<ul>
<li>二分查找：两个指针控制搜索区间，每次区间减半；<ul>
<li>每一次二分都要保证：搜索区间减小，正确处理边界</li>
<li>不要用else，而是把所有情况用 else if写清楚</li>
</ul>
</li>
<li>有序数组两数之和：左右边界开始往中间找；</li>
<li>反转数组；</li>
</ul>
<p><strong>滑动窗口</strong><br>通过一定规则，判断是让前指针走还是后指针走，在遍历的过程中记录答案；</p>
<ul>
<li>数组和为k的子数组：$O(n)$时间复杂度，遍历一次即可；</li>
<li>最小覆盖子串：前指针往前走，找到覆盖子串，然后后指针往前走，找最小的覆盖子串；</li>
<li>字符串排列/异位词子串：前指针往前走，找到排列子串，遇到不在子串的字符或者超过的字符就移动后指针，缩减窗口；</li>
<li>无重复最长子串：哈希表记录位置，遍历判断是否需要更新起始位置；</li>
</ul>
<h3 id="BFS"><a href="#BFS" class="headerlink" title="BFS"></a>BFS</h3><p>BFS 相对 DFS 的最主要的区别是：<strong>BFS 找到的路径一定是最短的，但代价就是空间复杂度比 DFS 大很多</strong></p>
<p><strong>经典问题</strong></p>
<ul>
<li>最短路径：<ul>
<li>图上最短路径适合BFS搜索，</li>
<li>数组上的最短路径适合用动态规划的方式；但是如果数组上加入了许多约束，如蛇梯棋，也适合BFS</li>
</ul>
</li>
<li>找解决方案：变相求最短路径，通过几种可选的策略BFS搜索，直到找到解决方案。</li>
</ul>
<h2 id="经典问题"><a href="#经典问题" class="headerlink" title="经典问题"></a>经典问题</h2><h3 id="排序问题"><a href="#排序问题" class="headerlink" title="排序问题"></a>排序问题</h3><p><strong>时间复杂度</strong></p>
<ul>
<li>时间复杂度为$O(n^2)$的排序算法有：冒泡排序、选择排序、插入排序<blockquote>
<p>这些排序算法是很直观的做法，但效率都比较低，随着元素数量增加，计算代价迅速增加，有优化的空间。例如这些算法在执行的时候，原数组会开始变得有序，这种有序就可以加以利用，进而降低复杂度，也就有了$O(nlog(n))$的算法。进一步如果待排序元素的种类/个数是有限的，还可以利用桶进一步降低复杂度。</p>
</blockquote>
</li>
<li>时间复杂度为$O(nlog(n))$的排序算法有：快速排序、归并排序、堆排序、希尔排序</li>
<li>时间复杂度为$O(n+k)$的排序算法有：计数排序、基数排序</li>
</ul>
<h4 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h4><ul>
<li>自然界中，在重力作用下密度小的物体有向上运动的趋势，而密度大的物体有向下运动的趋势，也就是自然存在依密度排列的趋势。<ul>
<li>冒泡排序的思路就是这么朴素，让元素按大小自然沉浮。</li>
<li>对于长度为$n$的数组，循环$n-1$次，每次都让剩下元素中最大的元素沉下去（当然可以让最小的浮上来）。</li>
</ul>
</li>
</ul>
<h4 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h4><ul>
<li>同样对于长度为n的数组，循环$n-1$次，每次遍历剩下元素，把最大（最小）地元素提取出来。</li>
<li>与冒泡排序类似，不同的是冒泡每次比较发现逆序都会交换元素，而选择排序会记录当前的最大值的位置。</li>
</ul>
<h4 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h4><ul>
<li>对于长度为$n$的数组，循环$n-1$次，每次从剩下元素取第一个往有序部分<strong>线性</strong>插入。</li>
<li>选择排序是在取的时候得到有序，而插入排序是在放的时候得到有序。</li>
<li>在数组是由链表构成时，如果插入的时候不是线性插入，而是二分插入（数组不能二分插，还是要搬运各个元素，链表可以借助跳表），可以将复杂度降到$O(nlog(n))$</li>
</ul>
<h4 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h4><ul>
<li>利用二分和分治的思想，大约循环$log(n)$层，每次将原数组划分成两个无序部分，但是其中一个部分都大于另一个部分。</li>
<li>可以看成是一种特殊的冒泡排序，所有元素跟相同的元素比较，使得每次比较一遍可以让所有元素都<strong>沉</strong>或<strong>浮</strong>。</li>
<li>还可以看成是一种前序遍历，根节点完成划分，两个子节点完成子数组的排序；</li>
<li>快排每次划分不一定是在中间，需要记住划分位置，所以空间复杂度为$O(log(n))-O(n)$，如果用递归，空间复杂度就是递归深度，如果是迭代做，空间复杂度就是记住划分位置。<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">partition</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span><span class="token punctuation">:</span>
    i<span class="token punctuation">,</span> j <span class="token operator">=</span> low<span class="token punctuation">,</span> low 
    pivot <span class="token operator">=</span> arr<span class="token punctuation">[</span>high<span class="token punctuation">]</span> <span class="token comment"># 取最后一个元素当做pivot</span>
    <span class="token keyword">while</span> j <span class="token operator">&lt;</span> high<span class="token punctuation">:</span>
        <span class="token comment"># 当前元素小于或等于 pivot</span>
        <span class="token keyword">if</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> pivot<span class="token punctuation">:</span>
            arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
            i <span class="token operator">+=</span> <span class="token number">1</span> <span class="token comment">#pivot位置前进1步</span>
        j <span class="token operator">+=</span> <span class="token number">1</span>
    arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>high<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>high<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token comment">#将pivot放到正确的位置并返回位置索引i</span>
    <span class="token keyword">return</span> i
<span class="token comment"># 快速排序函数</span>
<span class="token keyword">def</span> <span class="token function">quick_sort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> low <span class="token operator">&lt;</span> high<span class="token punctuation">:</span>
        pi <span class="token operator">=</span> partition<span class="token punctuation">(</span>arr<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span>
        quick_sort<span class="token punctuation">(</span>arr<span class="token punctuation">,</span> low<span class="token punctuation">,</span> pi <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
        quick_sort<span class="token punctuation">(</span>arr<span class="token punctuation">,</span> pi <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> high<span class="token punctuation">)</span>
 
arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token comment"># arr = [1,1,1,1,1]</span>
quick_sort<span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h4 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h4><ul>
<li>利用分治的思想，将问题划分为更小的子问题，$问题数量的增长+额外代价 &lt; 问题复杂度的减小$时就可以降低复杂度。<ul>
<li>这里随着分治的进行，问题数量指数增加，问题复杂度指数减小，但是问题复杂度减小地更快。</li>
<li>空间复杂度$O(n)$</li>
</ul>
</li>
<li>也可以看成后序遍历，子节点完成前后两部分的排序，根节点完成合并。</li>
</ul>
<h4 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h4><ul>
<li>利用最大/小堆，每次弹出最大/小值，可以看成是一种优化的选择排序。</li>
<li>建立堆的过程复杂度为$O(n)$：不同结点需要比较的次数不一样，但平均不超过2。</li>
</ul>
<h4 id="希尔排序"><a href="#希尔排序" class="headerlink" title="希尔排序"></a>希尔排序</h4><ul>
<li>当原数组是非常有序时，插入排序的复杂度极低，可以接近$O(n)$。希尔排序是一种改良的插入排序，先通过较大的步长尽可能减少逆序，降低插入的代价。</li>
<li>复杂度与步长选择有关，当原数组较为有序时可以考虑小一些的步长；当步长不合适时复杂度会增加至$O(n^2)$。</li>
<li>当数据量过大时，希尔排序容易低效，更适合数据量小的时候。</li>
</ul>
<h4 id="计数排序"><a href="#计数排序" class="headerlink" title="计数排序"></a>计数排序</h4><ul>
<li>当排序数组的元素取值为有限值时，可以根据可能的取值构建桶，将元素按值放入桶中，对桶中的元素计数，得到元素的顺序，是一种在特殊情况下以空间换时间的方式。</li>
</ul>
<h4 id="基数排序"><a href="#基数排序" class="headerlink" title="基数排序"></a>基数排序</h4><ul>
<li>在元素取值为有限位时，从低位到高位，每次对其中一位进行排序。</li>
<li>两种桶排序的空间复杂度跟桶的数量有关。</li>
</ul>
<h4 id="常见题目"><a href="#常见题目" class="headerlink" title="常见题目"></a>常见题目</h4><p><strong>基本有序数组排序</strong><br>基本有序数组：每个元素跟最终有序位置距离不超过k。<br>在这种特殊情况下，能够将一些排序算法的时间复杂度再降一降.<br>插入排序$O(n*k)$：每个元素最多比较$k$次。<br>改进堆排序$O(nlog(k))$：每次只需要取前$k$个元素建立堆，不过可能要使用额外空间建堆，不能像原来一样在原地操作。</p>
<p><strong>判断是否有重复元素</strong><br>空间复杂度$O(n)$：哈希表。<br>空间复杂度$O(1)$：非递归堆排序</p>
<p><strong>两个有序数组合并</strong><br>链表就直接按序比较<br>如果是数组，其中一个数组后面有多余空间时，则从空的位置开始放。</p>
<p><strong>荷兰国旗问题</strong></p>
<ul>
<li>问题：将只包含0,1,2三种数的无序数组排有序</li>
<li>用三个指针，两个指向0和2，一个遍历，将0和2往两边甩，类似于快排。</li>
<li>也可以直接对0，1，2三种元素计数，然后改写即可；</li>
</ul>
<p><strong>行列有序二维数组查找</strong><br>右上开始，至左下，$O(n+m)$</p>
<p><strong>需要排序最短子数组</strong><br>从左向右、从右往左遍历，记录边界（小于最大数的右边界，大于最小数的左边界），也就是找到两边不用排序的部分，留下中间存在逆序的部分。</p>
<p><strong>无序数组排序后的最大差值</strong><br>通过$n$个桶，平均划分区间，将元素放入这些桶中，按序遍历查找。</p>
<h3 id="拓扑排序"><a href="#拓扑排序" class="headerlink" title="拓扑排序"></a>拓扑排序</h3><ul>
<li>定义：对有向无环图的节点进行排序，使得排序结果符合边方向</li>
</ul>
<h4 id="Kahn算法"><a href="#Kahn算法" class="headerlink" title="Kahn算法"></a>Kahn算法</h4><ul>
<li>将入度为0的节点选择出来，并去掉对应的出边；</li>
<li>反复循环至取出所有节点。</li>
</ul>
<h4 id="DFS解法"><a href="#DFS解法" class="headerlink" title="DFS解法"></a>DFS解法</h4><ul>
<li>循环对每个节点调用DFS深度优先搜索遍历</li>
<li>在遍历中对节点的上级节点进行DFS，最后打印自己</li>
<li>因此每个节点都是在所有上级节点遍历完成后才打印的。</li>
</ul>
<h3 id="字符串匹配"><a href="#字符串匹配" class="headerlink" title="字符串匹配"></a>字符串匹配</h3><p>BF、RK、BM、KMP、Trie树、AC自动机<br><strong>BF</strong><br>时间复杂度很高$O(m*n)$，但也很常用，因为：</p>
<ul>
<li>大多数时候主串和匹配串的长度都不大；</li>
<li>大多数时候会较早遇到不匹配的情况然后停止；</li>
<li>实现简单不容易出错。</li>
</ul>
<p><strong>RK</strong></p>
<ul>
<li>通过设计合适的哈希算法，将复杂度降低到$O(n)$；</li>
<li>没有散列冲突的哈希算法可能会整形溢出，可以允许有一定的冲突，平衡空间与时间</li>
</ul>
<p><strong>BM</strong><br>实验统计，BM的性能是著名的KMP算法的3到4倍</p>
<p><strong>KMP算法</strong></p>
<ul>
<li>KMP算法相对于单纯的滑动比较，主要改进在于发现最长公共前后缀在冲突时的作用，进而通过动态规划的方式避免重复劳动，降低复杂度。</li>
<li>在比较冲突的时候，已经比较配对的部分中匹配串与模式串是相同的，因此接下来的滑动相当于是已匹配部分自己与自己比较，即寻找最长公共前后缀。</li>
<li>最长公共前后缀与模式串的字符位置对应，因此记录最长公共前后缀信息的数组就是next数组，也是动态规划中的Memory。</li>
<li>计算next数组的过程就是动态规划的过程，当连续匹配时next数组可以依次写出，当出现不匹配时直接调用以计算出的部分即可。</li>
<li>所以KMP算法是一种动态规划的实现，以空间换时间，用next数组记录运算信息，避免重复子问题。</li>
</ul>
<h3 id="m数之和"><a href="#m数之和" class="headerlink" title="m数之和"></a>m数之和</h3><ul>
<li>排序+左右指针：<ul>
<li>m=2：排序，左右指针从两边向中间移动，复杂度$O(nlog(n))$；</li>
<li>m&gt;2：排序，从第一个数的取值开始循环，每一层循环m降低一，最后调用两数之和，左右指针从两边向中间移动，复杂度$O(n^{m-1})$；</li>
</ul>
</li>
<li>哈希+遍历比较：哈希计算并记录m//2数之和的可能性，然后遍历并记录，最坏的时间复杂度$O(n^{m//2+1})$，实际可能更低；</li>
</ul>
<h3 id="查并集"><a href="#查并集" class="headerlink" title="查并集"></a>查并集</h3><p><strong>问题</strong><br>有$n$个节点，节点之间有$m$对关系，找到节点直接的圈子</p>
<p><strong>暴力解法</strong><br>将一对有关系的节点放到一个集合中，若存在两个集合，则对集合进行合并。</p>
<p><strong>高效解法</strong></p>
<ul>
<li>对于新的关系，寻找两个节点是否有公共祖先，没有则合并，将一个祖先的祖先设置为另一个祖先，找祖先的代码：<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">find</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> nums<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">!=</span> x<span class="token punctuation">:</span>
        nums<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> find<span class="token punctuation">(</span>nums<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> nums<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li>
<li>合并的时候将简单的树合并到复杂的树上，以尽量控制树的深度。<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">merge</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> rank<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">&lt;</span> rank<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">:</span>
        x<span class="token punctuation">,</span> y <span class="token operator">=</span> y<span class="token punctuation">,</span> x
    rank<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> rank<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">+</span> rank<span class="token punctuation">[</span>y<span class="token punctuation">]</span>
    nums<span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> x<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h3 id="发糖果"><a href="#发糖果" class="headerlink" title="发糖果"></a>发糖果</h3><ul>
<li>问题：给一个列表，是孩子的评分，给孩子发糖果，要保证评分高的孩子得到的糖果数比两边评分低的孩子多</li>
<li>解决：左右各遍历一次，记录给每个孩子最少的糖果，取最大值。</li>
</ul>
<h3 id="蓄水池采样"><a href="#蓄水池采样" class="headerlink" title="蓄水池采样"></a>蓄水池采样</h3><ul>
<li>问题：数据流式到达，总数$n$未知，从中采样$k$个，保证每个数据被采样的概率都是$\frac{k}{n}$；</li>
<li>解决：前$k$个数据直接保存，第$m$个数据到达时，以$\frac{k}{m}$的概率替代当前保留数据，使得所有数据等概率；</li>
</ul>
<h3 id="素数数量"><a href="#素数数量" class="headerlink" title="素数数量"></a>素数数量</h3><ul>
<li>统计区间$[2,n)$的素数个数,外循环从小到大寻找素数，内循环将其倍数标注为非素数；</li>
<li>外循环只需要遍历到$\sqrt n$的位置，内循环只需要从$i^2$开始遍历；<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">count_primes</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    is_primes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">True</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>n<span class="token operator">**</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> is_primes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>i<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">:</span>
                is_primes<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>
    <span class="token keyword">return</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>is_primes<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h3 id="阶乘后面的0"><a href="#阶乘后面的0" class="headerlink" title="阶乘后面的0"></a>阶乘后面的0</h3><ul>
<li>任意一个数的阶乘，后面有多少个0，其实是看有多少个2,5组合，2远多于5，所以只看5<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">trailingZeroes</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    zero_count <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">while</span> n <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>
        n <span class="token operator">//=</span> <span class="token number">5</span>
        zero_count <span class="token operator">+=</span> n
    <span class="token keyword">return</span> zero_count<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li>有k个0的阶乘有多少个，在上一个问题的基础上，通过二分查找确定边界，然后定位；</li>
</ul>
<h3 id="取模问题"><a href="#取模问题" class="headerlink" title="取模问题"></a>取模问题</h3><ul>
<li>当问题规模较大时，可能出现溢出的情况或有其它要求，希望结果取模；</li>
<li>考虑到性质：$(a * b)\%k=(a\%k)*(b\%k)\%k$，可以将取模运算放在计算前，以避免溢出；</li>
</ul>
<h2 id="智力题"><a href="#智力题" class="headerlink" title="智力题"></a>智力题</h2><h3 id="概率问题"><a href="#概率问题" class="headerlink" title="概率问题"></a>概率问题</h3><p><strong>男孩女孩</strong></p>
<ul>
<li>有一个家庭，有两个孩子：<ul>
<li>其中有一个男孩，问另一个也是男孩的概率；两个孩子有男男、男女、女男、女女四种情况；其中一个是男孩，则只剩3种情况，另一个是男孩的概率为$\frac{1}{3}$</li>
<li>第一个是男孩，问第二个也是男孩的概率；独立，概率为$\frac{1}{2}$</li>
</ul>
</li>
</ul>
<p><strong>生日相同</strong></p>
<ul>
<li>需要有多少人，才能使得存在至少两个人生日是同一天的概率达到50%；</li>
<li>概率为：$1-\frac{365!}{(365-n)!365^n}$，</li>
<li>即要求$2*365!&lt;(365-n)!365^n$，答案是23</li>
</ul>
<p><strong>三门问题</strong></p>
<ul>
<li>三扇门，两个后面是山羊，一个后面是跑车，选手先选一个门，然后主持人打开一个是山羊的门，此时选手可以选择是否换门；</li>
<li>不换拿到跑车的概率是$\frac{1}{3}$，换拿到跑车的概率是$\frac{2}{3}$；</li>
</ul>
<p><strong>选择题排除</strong></p>
<ul>
<li>4个选项，先蒙A，然后发现B、C一定不对，是否要换D；</li>
<li>不换正确的概率是$\frac{1}{4}$，换正确的概率是$\frac{3}{4}$；</li>
</ul>
<h3 id="电灯开关"><a href="#电灯开关" class="headerlink" title="电灯开关"></a>电灯开关</h3><ul>
<li>有n盏电灯，最开始时都是关着的，第k轮每k个电灯按一次，最后有多少灯是开着的；</li>
<li>大部分序号都可以分解成成对的因子，因此灯会被开关偶数次，最后是关着灯，而可以被整数开平方的灯会被按奇数次，最后会开着；</li>
<li>因此结果是$int(sqrt(n))$</li>
</ul>
<h3 id="价值选择-石头游戏"><a href="#价值选择-石头游戏" class="headerlink" title="价值选择/石头游戏"></a>价值选择/石头游戏</h3><p><strong>左右选择一个</strong></p>
<ul>
<li>一排偶数堆石头，两个人依次从中选择，只能从最左边或最右边选择；</li>
<li>先手一定赢，因为先手可以控制自己选择奇数堆还是偶数堆；</li>
</ul>
<p><strong>顺序选择多个</strong></p>
<ul>
<li>一排东西，两个人依次选择，可以选择多个，取到最后一个的人赢；</li>
<li>根据可以选择的个数循环，一定赢或一定输；</li>
</ul>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">万川</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://notego.top/2021/03/31/shu-ju-jie-gou-yu-suan-fa/">http://notego.top/2021/03/31/shu-ju-jie-gou-yu-suan-fa/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">万川</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
                                    <span class="chip bg-color">数据结构</span>
                                </a>
                            
                                <a href="/tags/%E7%AE%97%E6%B3%95/">
                                    <span class="chip bg-color">算法</span>
                                </a>
                            
                                <a href="/tags/%E4%BA%8C%E5%88%86/">
                                    <span class="chip bg-color">二分</span>
                                </a>
                            
                                <a href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/">
                                    <span class="chip bg-color">动态规划</span>
                                </a>
                            
                                <a href="/tags/%E5%9B%9E%E6%BA%AF/">
                                    <span class="chip bg-color">回溯</span>
                                </a>
                            
                                <a href="/tags/%E9%81%8D%E5%8E%86/">
                                    <span class="chip bg-color">遍历</span>
                                </a>
                            
                                <a href="/tags/%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/">
                                    <span class="chip bg-color">时间复杂度</span>
                                </a>
                            
                                <a href="/tags/%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/">
                                    <span class="chip bg-color">空间复杂度</span>
                                </a>
                            
                                <a href="/tags/%E6%A0%91/">
                                    <span class="chip bg-color">树</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你好，同行的有缘人</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2021/03/31/tui-jian-xi-tong/">
                    <div class="card-image">
                        
                        <img src="/medias/image/rs3.jpg" class="responsive-img" alt="推荐系统">
                        
                        <span class="card-title">推荐系统</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            让每一次相遇都值得期待
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2021-03-31
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/" class="post-category">
                                    推荐系统
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E6%8E%A8%E8%8D%90/">
                        <span class="chip bg-color">推荐</span>
                    </a>
                    
                    <a href="/tags/%E6%98%BE%E5%BC%8F%E5%8F%8D%E9%A6%88/">
                        <span class="chip bg-color">显式反馈</span>
                    </a>
                    
                    <a href="/tags/%E9%9A%90%E5%BC%8F%E5%8F%8D%E9%A6%88/">
                        <span class="chip bg-color">隐式反馈</span>
                    </a>
                    
                    <a href="/tags/%E5%8D%8F%E5%90%8C%E8%BF%87%E6%BB%A4/">
                        <span class="chip bg-color">协同过滤</span>
                    </a>
                    
                    <a href="/tags/%E5%8F%AC%E5%9B%9E/">
                        <span class="chip bg-color">召回</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2021/03/30/zi-mian-ce/">
                    <div class="card-image">
                        
                        <img src="/medias/image/%E9%9B%85%E5%85%B8%E5%AD%A6%E9%99%A2.jpg" class="responsive-img" alt="自勉册">
                        
                        <span class="card-title">自勉册</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            学如逆水行舟，不进则退；心似平原走马，易放难收。
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-03-30
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E6%8F%90%E5%8D%87/" class="post-category">
                                    提升
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E5%93%B2%E5%AD%A6/">
                        <span class="chip bg-color">哲学</span>
                    </a>
                    
                    <a href="/tags/%E5%BF%83%E7%90%86/">
                        <span class="chip bg-color">心理</span>
                    </a>
                    
                    <a href="/tags/%E8%8B%B1%E9%9B%84%E4%B9%8B%E6%97%85/">
                        <span class="chip bg-color">英雄之旅</span>
                    </a>
                    
                    <a href="/tags/%E4%BA%BA%E7%94%9F/">
                        <span class="chip bg-color">人生</span>
                    </a>
                    
                    <a href="/tags/%E6%83%85%E7%BB%AA/">
                        <span class="chip bg-color">情绪</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('20')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: 方寸田园<br />'
            + '文章作者: 万川<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h1, h2, h3, h4, h5'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4, h5').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>


<script src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$', '$'], ['\(', '\)']]}
    });
</script>



    <footer class="page-footer bg-color">
    
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2021-2022</span>
            
            <span id="year">2021</span>
            <a href="/about" target="_blank">万川</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">165.8k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2021";
                    var startMonth = "3";
                    var startDate = "31";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/wanc97" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:wanc97@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=3221927185" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 3221927185" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>



    <a href="https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=MzI4MzEzNjIxNw==#wechat_redirect" class="tooltipped" target="_blank" data-tooltip="微信联系我: W3221927185" data-position="top" data-delay="50">
        <i class="fab fa-weixin"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

    <!-- 雪花特效 --><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    

</body>

</html>
